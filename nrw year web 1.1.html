<!DOCTYPE html>
<html lang="si" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>සිංහල හින්දු අලුත් අවුරුද්ද 2025 | නවීන අත්දැකීම</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- AOS (Animate On Scroll) -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;700;900&family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Custom Styles -->
    <style>
        /* Apply base fonts */
        body {
            font-family: 'Poppins', 'Noto Sans Sinhala', sans-serif;
            transition: background-color 0.4s, color 0.4s;
            /* Subtle pastel background pattern */
            background-color: #FFF8F0; /* Very light pastel orange/cream */
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FDBA74' fill-opacity='0.06'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .dark body {
            background-color: #1a1d24; /* Darker blue/gray */
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23FDBA74' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        /* Theme Toggle Button */
        .theme-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(0, 0, 0, 0.05);
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1000;
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        .theme-toggle:hover {
             background-color: rgba(255, 255, 255, 0.8);
             transform: scale(1.1) rotate(15deg);
             box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }
        .dark .theme-toggle {
             background-color: rgba(40, 43, 54, 0.6);
             border: 1px solid rgba(255, 255, 255, 0.1);
             box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
         .dark .theme-toggle:hover {
             background-color: rgba(40, 43, 54, 0.8);
         }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed; top: 0; right: -100%; width: 85%; max-width: 350px; height: 100%;
            background-color: rgba(255, 250, 245, 0.95); /* Pastel background */
            backdrop-filter: blur(12px); box-shadow: -8px 0 25px rgba(0,0,0,0.1);
            transition: right 0.45s cubic-bezier(0.4, 0, 0.2, 1); z-index: 1050; overflow-y: auto;
        }
        .mobile-menu.open { right: 0; }
        .dark .mobile-menu {
            background-color: rgba(26, 29, 36, 0.95); /* Dark background */
            box-shadow: -8px 0 25px rgba(0,0,0,0.3);
        }

        /* Loader */
        .loader {
            border: 5px solid rgba(0, 0, 0, 0.1);
            border-top: 5px solid var(--color-primary-500); /* Use CSS variable */
            border-radius: 50%; width: 60px; height: 60px;
            animation: spin 1.2s linear infinite;
        }
        .dark .loader {
             border: 5px solid rgba(255, 255, 255, 0.1);
             border-top: 5px solid var(--color-primary-400);
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* p5 Canvas */
        #p5-background-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -10; pointer-events: none; }

        /* Hero Three.js Canvas */
         #hero-three-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; opacity: 0.8; mix-blend-mode: screen; }
         .dark #hero-three-canvas { opacity: 0.6; mix-blend-mode: lighten; }
         .hero-content { position: relative; z-index: 1; }

        /* Image Placeholders - Improved Styling */
        .img-placeholder {
            display: flex; align-items: center; justify-content: center; flex-direction: column;
            background-color: #FFEDD5; /* orange-100 */ border-radius: 0.75rem; /* rounded-xl */
            color: #9A3412; /* orange-800 */ font-size: 0.875rem; font-style: italic; text-align: center;
            min-height: 12rem; width: 100%; border: 2px dashed #FDBA74; /* orange-300 */
            opacity: 0.8;
        }
        .dark .img-placeholder {
            background-color: #312E29; /* Darker orange shade */ color: #FED7AA; /* orange-200 */
            border-color: #9A3412; /* orange-800 */
        }
        .img-placeholder i { font-size: 2.5rem; margin-bottom: 0.5rem; color: #FB923C; /* orange-400 */ }
        .dark .img-placeholder i { color: #FDBA74; /* orange-300 */ }
        .img-placeholder-sm { min-height: 6rem; width: 6rem; border-radius: 9999px; margin: 0 auto 1rem; }
        .img-placeholder-sm i { font-size: 1.75rem; margin-bottom: 0.25rem; }

        /* Custom Timeline Refined */
        .timeline-line::before {
            content: ''; position: absolute; left: 10px; /* Based on icon/point position */ top: 0; bottom: 0;
            width: 3px; background: linear-gradient(to bottom, var(--color-secondary-300), var(--color-primary-400));
            border-radius: 3px; transform: translateX(-50%); z-index: 0;
        }
        .timeline-point {
            position: absolute; left: 10px; top: calc(0.875rem + 2px); /* Align with text */ width: 1.25rem; height: 1.25rem;
            background-color: var(--color-primary-500); border-radius: 50%;
            border: 4px solid #FFF8F0; /* Match light body bg */
            transform: translateX(-50%); z-index: 1; box-shadow: 0 0 0 3px var(--color-primary-500);
        }
        .dark .timeline-point {
            background-color: var(--color-primary-400); border-color: #1a1d24; /* Match dark body bg */
            box-shadow: 0 0 0 3px var(--color-primary-400);
        }
        .timeline-item { position: relative; padding-left: 45px; /* Space for icon and line */ padding-bottom: 3rem; }
        .timeline-item:last-child { padding-bottom: 0; }
        .timeline-item:last-child .timeline-line::before { height: calc(0.875rem + 2px + 0.625rem); } /* Stop line at last point */

        /* Section Title Underline */
        .section-title { display: inline-block; position: relative; padding-bottom: 12px; }
        .section-title::after {
            content: ''; position: absolute; left: 50%; bottom: 0; transform: translateX(-50%);
            width: 80px; height: 4px; border-radius: 2px;
            background: linear-gradient(90deg, var(--color-secondary-400), var(--color-primary-500));
        }
        .dark .section-title::after {
             background: linear-gradient(90deg, var(--color-secondary-300), var(--color-primary-400));
        }

        /* Card Enhancements */
        .custom-card {
            background-color: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(0, 0, 0, 0.03);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .custom-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        .dark .custom-card {
            background-color: rgba(30, 33, 40, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
         .dark .custom-card:hover {
             box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
         }

        /* Tailwind CSS Configuration */
        tailwind.config = {
            darkMode: 'class', // Enable class-based dark mode
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Poppins', 'Noto Sans Sinhala', 'sans-serif'],
                        sinhala: ['Noto Sans Sinhala', 'Poppins', 'sans-serif']
                    },
                    colors: {
                        // Define Pastel Palette using CSS variables for easy theme switching
                        primary: {
                            DEFAULT: 'var(--color-primary-500)',
                            light: 'var(--color-primary-400)', // Lighter shade for dark mode text
                            dark: 'var(--color-primary-600)',  // Darker shade for light mode elements
                            100: 'var(--color-primary-100)',
                            200: 'var(--color-primary-200)',
                            300: 'var(--color-primary-300)',
                            400: 'var(--color-primary-400)',
                            500: 'var(--color-primary-500)',
                            600: 'var(--color-primary-600)',
                            700: 'var(--color-primary-700)',
                        },
                        secondary: { // Example: Soft Red/Pink
                            DEFAULT: 'var(--color-secondary-500)',
                            light: 'var(--color-secondary-400)',
                            dark: 'var(--color-secondary-600)',
                            300: 'var(--color-secondary-300)',
                            400: 'var(--color-secondary-400)',
                            500: 'var(--color-secondary-500)',
                            600: 'var(--color-secondary-600)',
                        },
                        // Add more pastel shades if needed (e.g., accent green, blue)
                        accent: {
                             DEFAULT: 'var(--color-accent-500)', // e.g., soft teal
                             light: 'var(--color-accent-400)',
                             dark: 'var(--color-accent-600)',
                        }
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
                        'slide-in-left': 'slideInLeft 1s ease-out forwards',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeInUp: {
                          '0%': { opacity: '0', transform: 'translateY(30px)' },
                          '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        slideInLeft: {
                            '0%': { opacity: '0', transform: 'translateX(-50px)' },
                            '100%': { opacity: '1', transform: 'translateX(0)' },
                        }
                    }
                }
            },
            plugins: [
                require('@tailwindcss/typography'), // If you want to use prose styles
            ]
        }

        /* Define CSS Variables for Colors */
        :root {
             /* Light Mode Pastels */
            --color-primary-100: #FFF7ED; /* Very Light Orange */
            --color-primary-200: #FFEDD5; /* Light Orange */
            --color-primary-300: #FDBA74; /* Orange 300 */
            --color-primary-400: #FB923C; /* Orange 400 */
            --color-primary-500: #F97316; /* Orange 500 */
            --color-primary-600: #EA580C; /* Orange 600 */
            --color-primary-700: #C2410C; /* Orange 700 */

            --color-secondary-300: #FDA4AF; /* Rose 300 */
            --color-secondary-400: #FB7185; /* Rose 400 */
            --color-secondary-500: #F43F5E; /* Rose 500 */
            --color-secondary-600: #E11D48; /* Rose 600 */

            --color-accent-400: #5EEAD4; /* Teal 300 */
            --color-accent-500: #2DD4BF; /* Teal 400 */
            --color-accent-600: #14B8A6; /* Teal 500 */

            --text-main: #374151; /* Gray 700 */
            --text-muted: #6B7280; /* Gray 500 */
            --bg-main: #FFF8F0; /* Body background */
            --bg-card: rgba(255, 255, 255, 0.7);
            --bg-header: rgba(255, 250, 245, 0.85);
            --border-color: rgba(0, 0, 0, 0.05);
        }

        .dark {
             /* Dark Mode Pastels (adjust brightness/saturation) */
            --color-primary-100: #4d2c0b;
            --color-primary-200: #7a4614;
            --color-primary-300: #b96a20; /* Orange 300 Darkened */
            --color-primary-400: #f68b39; /* Orange 400 Brighter */
            --color-primary-500: #fa9d51; /* Orange 500 Brighter */
            --color-primary-600: #fcae6f;
            --color-primary-700: #fdc090;

            --color-secondary-300: #ec6a7f; /* Rose 300 Brighter */
            --color-secondary-400: #f68799; /* Rose 400 Brighter */
            --color-secondary-500: #f8a3b1; /* Rose 500 Brighter */
            --color-secondary-600: #fabcc7;

            --color-accent-400: #67e1ca; /* Teal 300 Brighter */
            --color-accent-500: #81e8d7; /* Teal 400 Brighter */
            --color-accent-600: #9cf0e4;

            --text-main: #E5E7EB; /* Gray 200 */
            --text-muted: #9CA3AF; /* Gray 400 */
            --bg-main: #1a1d24;
            --bg-card: rgba(30, 33, 40, 0.7);
            --bg-header: rgba(26, 29, 36, 0.85);
            --border-color: rgba(255, 255, 255, 0.1);
        }

        /* Apply base text/bg colors */
        body { color: var(--text-main); background-color: var(--bg-main); }
        /* Specific overrides if needed */
        .prose { color: var(--text-main); } /* Ensure prose plugin respects theme */
        .dark .prose { color: var(--text-main); }
        .prose strong { color: var(--color-primary-dark); }
        .dark .prose strong { color: var(--color-primary-light); }
        .prose a { color: var(--color-primary-500); }
        .dark .prose a { color: var(--color-primary-400); }

        /* Intro Overlay */
        #intro-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, var(--color-primary-200), var(--color-secondary-300));
            z-index: 2000; pointer-events: none;
        }
        .dark #intro-overlay {
             background: linear-gradient(135deg, var(--color-primary-400), var(--color-secondary-400));
        }

    </style>
</head>
<body class="text-gray-700 dark:text-gray-300 transition-colors duration-300 overflow-x-hidden">

    <!-- Intro Animation Overlay -->
    <div id="intro-overlay"></div>

    <!-- p5.js Background Canvas -->
    <div id="p5-background-canvas"></div>

<!-- Header -->
<header class="fixed top-0 left-0 w-full bg-opacity-85 backdrop-blur-lg shadow-sm dark:shadow-md z-50 transition-all duration-300" style="background-color: var(--bg-header);">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
        <a href="#" class="text-3xl font-extrabold tracking-tight text-primary-dark dark:text-primary-light opacity-0" style="transform: translateY(20px);" id="logo">
            අවුරුදු <span class="text-secondary">2025</span>
        </a>

        <nav class="hidden md:flex space-x-6 items-center opacity-0" style="transform: translateY(20px);" id="desktop-nav">
            <a href="#significance" class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors">වැදගත්කම</a>
            <a href="#customs" class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors">චාරිත්‍ර</a>
            <a href="#timeline" class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors">නැකැත්</a>
            <a href="#food" class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors">ආහාර</a>
            <a href="#games" class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors">ක්‍රීඩා</a>
            <a href="#wishes" class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors">සුබ පැතුම්</a>
            <a href="#interactive-3d" class="text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors">3D ලෝකය</a>
            <a href="#contact" class="ml-4 bg-gradient-to-r from-primary hover:from-primary-dark to-secondary hover:to-secondary-dark text-white px-5 py-2 rounded-full transition-all duration-300 text-xs font-semibold shadow-md hover:shadow-lg transform hover:scale-105">සබඳතා</a>
        </nav>

        <button id="mobile-menu-button" class="md:hidden text-gray-700 dark:text-gray-300 focus:outline-none p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700/50 transition-colors opacity-0" style="transform: translateY(20px);" id="mobile-menu-btn-icon">
            <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>
    </div>
</header>

<!-- Mobile Menu Panel -->
<div id="mobile-menu" class="mobile-menu p-6 pt-8">
     <div class="flex justify-between items-center mb-8">
         <span class="text-xl font-bold text-primary-dark dark:text-primary-light">මෙනුව</span>
         <button id="close-menu-button" class="text-gray-700 dark:text-gray-300 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-xl">
              <i class="fa-solid fa-times"></i>
         </button>
     </div>
     <nav class="flex flex-col space-y-5">
        <a href="#significance" class="block py-2 text-lg text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors font-medium">වැදගත්කම</a>
        <a href="#customs" class="block py-2 text-lg text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors font-medium">චාරිත්‍ර</a>
        <a href="#timeline" class="block py-2 text-lg text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors font-medium">නැකැත්</a>
        <a href="#food" class="block py-2 text-lg text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors font-medium">ආහාර</a>
        <a href="#games" class="block py-2 text-lg text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors font-medium">ක්‍රීඩා</a>
        <a href="#wishes" class="block py-2 text-lg text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors font-medium">සුබ පැතුම්</a>
        <a href="#interactive-3d" class="block py-2 text-lg text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors font-medium">3D ලෝකය</a>
        <a href="#contact" class="block py-2 text-lg text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary-light transition-colors font-medium">සබඳතා</a>
        <a href="#contact" class="mt-6 inline-block bg-gradient-to-r from-primary to-secondary text-white px-6 py-3 rounded-full transition-all duration-300 text-center font-semibold w-full shadow-lg hover:shadow-xl transform hover:scale-105">සබඳතා</a>
    </nav>
</div>

<!-- Hero Section -->
<section class="hero-container relative pt-36 pb-24 md:pt-48 md:pb-36 min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-primary-100 via-secondary-300/30 to-accent-400/20 dark:from-primary-700/30 dark:via-secondary-600/20 dark:to-accent-600/10">
    <!-- Three.js Canvas for Hero Background -->
    <div id="hero-three-canvas"></div>
    <div class="hero-content container mx-auto px-6 text-center">
        <h1 class="text-5xl md:text-7xl lg:text-8xl font-black text-gray-800 dark:text-white mb-6 font-sinhala opacity-0" style="transform: translateY(30px);" id="hero-title">
           <span class="inline-block text-transparent bg-clip-text bg-gradient-to-r from-primary-dark via-secondary to-primary-500">සුභ</span>
           <span class="inline-block">අලුත්</span>
           <span class="inline-block">අවුරුද්දක්</span>
           <span class="inline-block">වේවා!</span>
        </h1>
        <div id="hero-three-canvas"></div>
    <div class="hero-content container mx-auto px-6 text-center">
        <h1 class="text-5xl md:text-7xl font-black text-yellow-900 dark:text-yellow-200 mb-5 animate-fade-in-up" data-aos="fade-down" data-aos-delay="100" style="font-family: 'Noto Sans Sinhala', sans-serif;">
           <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary-dark via-secondary to-primary"></span>සුභ අලුත් අවුරුද්දක් වේවා!
        </h1>
        <p class="text-lg md:text-xl text-gray-600 dark:text-gray-400 mb-10 max-w-3xl mx-auto opacity-0" style="transform: translateY(30px);" id="hero-subtitle">
            සාමය, සතුට සහ සෞභාග්‍යය පිරි 2025 සිංහල හා හින්දු අලුත් අවුරුද්දක් ඔබ සැමට උදා වේවා! නව බලාපොරොත්තු සමඟින් මෙම උත්සව සමය සමරමු.
        </p>

        <!-- Countdown Timer -->
        <div class="flex justify-center space-x-3 md:space-x-5 mb-12 opacity-0" style="transform: translateY(30px);" id="countdown-container">
            <div class="text-center bg-white/70 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl shadow-lg w-20 md:w-28 transition-all hover:scale-105 border border-gray-200 dark:border-gray-700/50">
                <span id="days" class="text-4xl md:text-6xl font-bold text-primary dark:text-primary-light tabular-nums">00</span>
                <span class="block text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1 font-medium">දින</span>
            </div>
            <div class="text-center bg-white/70 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl shadow-lg w-20 md:w-28 transition-all hover:scale-105 border border-gray-200 dark:border-gray-700/50">
                <span id="hours" class="text-4xl md:text-6xl font-bold text-primary dark:text-primary-light tabular-nums">00</span>
                <span class="block text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1 font-medium">පැය</span>
            </div>
            <div class="text-center bg-white/70 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl shadow-lg w-20 md:w-28 transition-all hover:scale-105 border border-gray-200 dark:border-gray-700/50">
                <span id="minutes" class="text-4xl md:text-6xl font-bold text-primary dark:text-primary-light tabular-nums">00</span>
                <span class="block text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1 font-medium">මිනිත්තු</span>
            </div>
            <div class="text-center bg-white/70 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl shadow-lg w-20 md:w-28 transition-all hover:scale-105 border border-gray-200 dark:border-gray-700/50">
                <span id="seconds" class="text-4xl md:text-6xl font-bold text-primary dark:text-primary-light tabular-nums">00</span>
                <span class="block text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1 font-medium">තත්පර</span>
            </div>
        </div>
        <div id="countdown-message" class="text-2xl font-bold text-secondary dark:text-secondary-light mb-12 hidden">
            🎉 සුභ අලුත් අවුරුද්දක් වේවා! 🎉
        </div>


        <a href="#significance" class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-8 py-3 rounded-full text-lg font-semibold transition-all duration-300 inline-block shadow-md hover:shadow-lg transform hover:scale-105 opacity-0" style="transform: translateY(30px);" id="hero-button">
            වැඩිදුර සොයන්න
            <i class="fas fa-arrow-down ml-2 animate-bounce"></i>
        </a>
    </div>
</section>

<!-- Significance Section -->
<section id="significance" class="py-24 bg-white dark:bg-gray-800/50">
    <div class="container mx-auto px-6">
         <h2 class="section-title text-4xl font-bold text-center mb-16 text-gray-900 dark:text-white" data-aos="fade-up">අලුත් අවුරුද්දේ වැදගත්කම</h2>
         <div class="grid md:grid-cols-2 gap-12 lg:gap-16 items-center">
             <div data-aos="fade-right" data-aos-delay="100" class="aspect-w-16 aspect-h-10 rounded-xl overflow-hidden shadow-lg">
                 <!-- Image Placeholder: Replace with <img> tag -->
                 <div class="img-placeholder">
                    <i class="fas fa-calendar-star"></i>
                    <span>අවුරුදු උත්සවයක දර්ශනයක්<br>(පවුලක් / ප්‍රජාවක්)</span>
                 </div>
                 <!-- <img src="path/to/your/significance-image.jpg" alt="අලුත් අවුරුදු උත්සවය" class="object-cover w-full h-full"> -->
             </div>
             <div data-aos="fade-left" data-aos-delay="200" class="prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 lg:text-lg">
                 <p class="leading-relaxed mb-5">
                    සිංහල හා හින්දු අලුත් අවුරුද්ද ශ්‍රී ලංකාවේ <strong class="text-primary-dark dark:text-primary-light">ප්‍රධානතම සංස්කෘතික මංගල්‍යයයි</strong>. එය හිරු මීන රාශියෙන් මේෂ රාශියට සංක්‍රමණය වීම සමරන අතර, සොබාදහමේ නව පිබිදීමක්, කෘෂිකාර්මික චක්‍රයක ඇරඹුමක් සහ අස්වැන්න නෙලීමෙන් පසු ලැබෙන විවේකයද විදහා දක්වයි.
                 </p>
                 <p class="mb-5">
                    මෙය පවුල් එකමුතුව, පැරණි අමනාපකම් අමතක කර <strong class="text-primary-dark dark:text-primary-light">මානව සබඳතා අලුත් කරගැනීම</strong> සඳහා වෙන්වූ අතිශය සුවිශේෂී කාල පරිච්ඡේදයකි. පාරම්පරික චාරිත්‍ර වාරිත්‍ර, ආගමික වතාවත් සහ ප්‍රජා ක්‍රියාකාරකම් තුළින් අපගේ අනන්‍ය සංස්කෘතික බැඳීම් තවදුරටත් ශක්තිමත් වේ.
                 </p>
                 <ul class="list-none space-y-3 pl-0">
                    <li class="flex items-start"><i class="fas fa-check-circle text-green-500 dark:text-green-400 mr-3 mt-1 flex-shrink-0"></i><span>නව ආරම්භයක්, බලාපොරොත්තුවක් සහ පුනර්ජීවනයක් සංකේතවත් කරයි.</span></li>
                    <li class="flex items-start"><i class="fas fa-check-circle text-green-500 dark:text-green-400 mr-3 mt-1 flex-shrink-0"></i><span>පවුල්, අසල්වැසි සහ ප්‍රජා සබඳතා ශක්තිමත් කරමින් එකමුතුකම වර්ධනය කරයි.</span></li>
                    <li class="flex items-start"><i class="fas fa-check-circle text-green-500 dark:text-green-400 mr-3 mt-1 flex-shrink-0"></i><span>පරම්පරාගත සංස්කෘතික උරුමය, සිරිත් විරිත් සහ සම්ප්‍රදායන් ආරක්ෂා කර පෝෂණය කරයි.</span></li>
                    <li class="flex items-start"><i class="fas fa-check-circle text-green-500 dark:text-green-400 mr-3 mt-1 flex-shrink-0"></i><span>කෘතඥතාවය පළ කිරීමේ සහ බෙදාහදා ගැනීමේ උතුම් ගුණාංග ඉස්මතු කරයි.</span></li>
                 </ul>
             </div>
         </div>
    </div>
</section>

<!-- Customs Section -->
 <section id="customs" class="py-24 bg-primary-100/50 dark:bg-gray-900">
    <div class="container mx-auto px-6">
        <h2 class="section-title text-4xl font-bold text-center mb-16 text-gray-900 dark:text-white" data-aos="fade-up">ප්‍රධාන චාරිත්‍ර වාරිත්‍ර</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Custom Card Example -->
            <div class="custom-card p-6 rounded-xl shadow-lg" data-aos="fade-up" data-aos-delay="50">
                <div class="text-5xl mb-4 text-primary"><i class="fas fa-bath fa-fw"></i></div>
                <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">පරණ අවුරුද්දට ස්නානය</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">අලුත් අවුරුද්දට පෙර ශරීරය පවිත්‍ර කරගැනීම සඳහා දිඹුල්පත් (හෝ කොහොඹපත්) යුෂ මිශ්‍ර නානු ගා ස්නානය කිරීමේ චාරිත්‍රය.</p>
            </div>
             <div class="custom-card p-6 rounded-xl shadow-lg" data-aos="fade-up" data-aos-delay="100">
                 <div class="text-5xl mb-4 text-accent"><i class="fas fa-praying-hands fa-fw"></i></div>
                <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">පුණ්‍ය කාලය (නොනගතය)</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">පරණ අවුරුද්ද සහ නව වසර උදාව අතර සියලු වැඩ අත්හැර ආගමික වතාවත්වල සහ පින් දහම්වල නිරත වීම සඳහා වෙන් වූ කාලය.</p>
            </div>
             <div class="custom-card p-6 rounded-xl shadow-lg" data-aos="fade-up" data-aos-delay="150">
                <div class="text-5xl mb-4 text-secondary"><i class="fas fa-fire-alt fa-fw"></i></div>
                <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">ආහාර පිසීම</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">නැකතට අනුව නියමිත දිශාව බලා, සුදුසු වර්ණ ඇඳුමින් සැරසී ලිප ගිනි මොළවා කිරි ඉතිරවීම සහ කිරිබත් ඇතුළු අවුරුදු කෑම පිළියෙළ කිරීම.</p>
            </div>
             <div class="custom-card p-6 rounded-xl shadow-lg" data-aos="fade-up" data-aos-delay="200">
                 <div class="text-5xl mb-4 text-primary-light"><i class="fas fa-utensils fa-fw"></i></div>
                 <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">වැඩ ඇල්ලීම, ගනුදෙනු හා අනුභවය</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">නැකතට වැඩ අල්ලා (තම වෘත්තියට අදාළ කාර්යයක් ඇරඹීම), වැඩිහිටියන් සමග ගනුදෙනු කර, පවුලේ සැවොම එක්ව අවුරුදු කෑම මේසය වටා ආහාර අනුභව කිරීම.</p>
            </div>
             <div class="custom-card p-6 rounded-xl shadow-lg" data-aos="fade-up" data-aos-delay="250">
                 <div class="text-5xl mb-4 text-green-500"><i class="fas fa-hand-holding-medical fa-fw"></i></div>
                 <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">හිසතෙල් ගෑම</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">පන්සලේදී හෝ නිවසේදී වැඩිහිටියන් විසින් බාලයන්ගේ හිසෙහි ඖෂධීය නානු සහ තෙල් ගල්වා නිරෝගී සුවය හා ආශිර්වාදය ප්‍රාර්ථනා කිරීම.</p>
            </div>
             <div class="custom-card p-6 rounded-xl shadow-lg" data-aos="fade-up" data-aos-delay="300">
                 <div class="text-5xl mb-4 text-blue-500"><i class="fas fa-briefcase fa-fw"></i></div>
                 <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">රැකී රක්ෂා සඳහා පිටත්වීම</h3>
                <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">අවුරුදු උත්සව නිමවා, නැවතත් සුබ නැකතින්, නියමිත දිශාව බලා තම දෛනික රැකියා කටයුතු සඳහා පිටත්ව යාම.</p>
            </div>
        </div>
    </div>
</section>

<!-- Timeline Section -->
<section id="timeline" class="py-24 bg-white dark:bg-gray-800/50">
     <div class="container mx-auto px-6">
         <h2 class="section-title text-4xl font-bold text-center mb-20 text-gray-900 dark:text-white" data-aos="fade-up">නැකැත් වේලාවන් 2025</h2>

         <div class="max-w-4xl mx-auto mb-12 grid grid-cols-1 md:grid-cols-2 gap-8">
             <div class="bg-primary-100/60 dark:bg-primary-700/20 p-4 rounded-lg text-center" data-aos="fade-right">
                 <h4 class="font-semibold text-primary-dark dark:text-primary-light mb-1">නව සඳ බැලීම</h4>
                 <p class="text-sm text-gray-600 dark:text-gray-300">අභිනව චන්ද්‍ර වර්ෂයට: <strong class="text-primary-500 dark:text-primary-400">මාර්තු 30</strong><br> අභිනව සූර්ය වර්ෂයට: <strong class="text-primary-500 dark:text-primary-400">මැයි 01</strong></p>
             </div>
              <div class="bg-primary-100/60 dark:bg-primary-700/20 p-4 rounded-lg text-center" data-aos="fade-left">
                 <h4 class="font-semibold text-primary-dark dark:text-primary-light mb-1">පැළ සිටුවීම</h4>
                 <p class="text-sm text-gray-600 dark:text-gray-300">දිනය: <strong class="text-primary-500 dark:text-primary-400">අප්‍රේල් 18 සිකුරාදා</strong><br> වේලාව: <strong class="text-primary-500 dark:text-primary-400">පෙ.ව. 10:16</strong><br>ඇඳුම: විචිත්‍ර | දිශාව: නැගෙනහිර</p>
             </div>
         </div>


         <div class="max-w-4xl mx-auto relative timeline-line">
             <!-- Timeline Items from Provided Data -->

             <div class="timeline-item" data-aos="fade-left">
                 <div class="timeline-point"></div>
                 <p class="text-sm font-semibold text-primary dark:text-primary-light mb-1">අප්‍රේල් 13 ඉරිදා</p>
                 <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">පරණ අවුරුද්ද සඳහා ස්නානය</h3>
                 <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">දිඹුල්පත් යුෂ මිශ්‍ර නානු ගා ස්නානය කොට ඉෂ්ට දේවතා අනුස්මරණයෙහි යෙදී වාසය කිරීම මැනවි.</p>
             </div>

             <div class="timeline-item" data-aos="fade-left" data-aos-delay="50">
                 <div class="timeline-point"></div>
                 <p class="text-sm font-semibold text-primary dark:text-primary-light mb-1">අප්‍රේල් 13 ඉරිදා රාත්‍රී 08:57 සිට</p>
                 <p class="text-sm font-semibold text-primary dark:text-primary-light mb-1">අප්‍රේල් 14 සඳුදා උදෑසන 09:45 දක්වා</p>
                 <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">පුණ්‍ය කාලය (නොනගතය)</h3>
                 <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-2">
                     මෙම සංක්‍රාන්ති සමයේදී (මීන රාශියේ අවසානය සහ මේෂ රාශියේ ආරම්භය අතර) සුබ නැකැත් නොමැති බැවින් සාමාන්‍ය වැඩ වලින් වැළකී සිටිය යුතුය.
                     කෙසේ වෙතත්, මෙම කාලය පින්කම් කිරීම සඳහා ('පුණ්‍ය කාලය') ඉතා යෝග්‍ය වේ. ආගමික වතාවත්වල යෙදීමෙන් අපල දුරු කර ගත හැකිය.
                 </p>
                  <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
                     <strong class="text-primary-dark dark:text-primary-light">පළමු කොටස (අ.භා. 08:57 ට පෙර):</strong> ආහාර පාන ගෙන, සියලු වැඩ අත්හැර ආගමික වතාවත් වල යෙදීම. <br>
                     <strong class="text-primary-dark dark:text-primary-light">දෙවන කොටස (අ.භා. 08:57 න් පසු පූ.භා. 09:45 දක්වා):</strong> පහත දැක්වෙන නැකැත් චාරිත්‍ර ඉටු කිරීම.
                 </p>
             </div>

             <div class="timeline-item" data-aos="fade-left" data-aos-delay="100">
                 <div class="timeline-point"></div>
                 <p class="text-sm font-semibold text-primary dark:text-primary-light mb-1">අප්‍රේල් 14 සඳුදා</p>
                 <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">අලුත් අවුරුදු උදාව</h3>
                  <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">සූර්යයා මීන රාශියෙන් මේෂ රාශියට සංක්‍රමණය වීම.</p>
                 <p class="font-bold text-secondary dark:text-secondary-light mt-1 text-lg">පෙ.ව. 03:21</p>
             </div>

             <div class="timeline-item" data-aos="fade-left" data-aos-delay="150">
                  <div class="timeline-point"></div>
                  <p class="text-sm font-semibold text-primary dark:text-primary-light mb-1">අප්‍රේල් 14 සඳුදා</p>
                  <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">ආහාර පිසීම</h3>
                  <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-2">
                      <strong class="text-primary-dark dark:text-primary-light">ඇඳුම:</strong> තඹ වර්ණය | <strong class="text-primary-dark dark:text-primary-light">දිශාව:</strong> දකුණ <br>
                      ලිප් බැඳ ගිනි මොළවා, කිරිබතක් ද, කැවිලි වර්ගයක් ද, දී කිරි සහ විළඳ ද පිළියෙළ කර ගැනීම මැනවි. කිරි ඉතිරවීම සෞභාග්‍යයේ සංකේතයකි. ගෘහණිය විසින් නැවුම් වළංවල, නැවුම් ලෙස මෙය සිදුකිරීමෙන් නව වසරට සිරි සෞභාග්‍යය ලැබේ.
                  </p>
                   <p class="font-bold text-secondary dark:text-secondary-light mt-1 text-lg">පෙ.ව. 04:04</p>
             </div>

              <div class="timeline-item" data-aos="fade-left" data-aos-delay="200">
                  <div class="timeline-point"></div>
                  <p class="text-sm font-semibold text-primary dark:text-primary-light mb-1">අප්‍රේල් 14 සඳුදා</p>
                  <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">වැඩ ඇල්ලීම, ගනුදෙනු කිරීම හා ආහාර අනුභවය</h3>
                  <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-2">
                       <strong class="text-primary-dark dark:text-primary-light">ඇඳුම:</strong> මුතු පාට හෝ සුදු | <strong class="text-primary-dark dark:text-primary-light">දිශාව:</strong> දකුණ <br>
                       සියලු වැඩ අල්ලා (වෘත්තියට අදාළ කාර්යයක් ඇරඹීම), ගනුදෙනු කොට (පිරිසිදු හදවතැති අයෙකු සමග මුදල් හුවමාරු කිරීම), පවුලේ සැවොම එක්ව පිළියෙළ කල ආහාර අනුභව කිරීම මැනවි. මෙමගින් වසර පුරා ආහාර අහේනියක් මතු නොවන බවත්, කටයුතු සඵල වන බවත් විශ්වාස කෙරේ.
                  </p>
                  <p class="font-bold text-secondary dark:text-secondary-light mt-1 text-lg">පෙ.ව. 06:44</p>
             </div>

              <div class="timeline-item" data-aos="fade-left" data-aos-delay="250">
                  <div class="timeline-point"></div>
                  <p class="text-sm font-semibold text-primary dark:text-primary-light mb-1">අප්‍රේල් 16 බදාදා</p>
                  <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">හිසතෙල් ගෑම</h3>
                  <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-2">
                       <strong class="text-primary-dark dark:text-primary-light">ඇඳුම:</strong> පච්ච (කොළ) පැහැය | <strong class="text-primary-dark dark:text-primary-light">දිශාව:</strong> උතුර <br>
                       හිසට කොහොඹ පත් ද, පයට කොළොන් පත් ද තබා, කොහොඹ පත් යුෂ මිශ්‍ර නානු ද තෙල් ද ගා ස්නානය කිරීම මැනවි. සෞඛ්‍ය සම්පන්න බව සහ දීර්ඝායුෂ ප්‍රාර්ථනා කෙරේ. බොහෝ විට පන්සලේදී සිදු කරයි.
                  </p>
                  <p class="font-bold text-secondary dark:text-secondary-light mt-1 text-lg">පෙ.ව. 09:04</p>
             </div>

              <div class="timeline-item" data-aos="fade-left" data-aos-delay="300">
                   <div class="timeline-point"></div>
                   <p class="text-sm font-semibold text-primary dark:text-primary-light mb-1">අප්‍රේල් 17 බ්‍රහස්පතින්දා</p>
                   <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">රැකී රක්ෂා සඳහා පිටත්ව යාම</h3>
                   <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-2">
                        <strong class="text-primary-dark dark:text-primary-light">ඇඳුම:</strong> රන්වන් පැහැය | <strong class="text-primary-dark dark:text-primary-light">දිශාව:</strong> උතුර <br>
                        කිරි බතක් ද, එළකිරි මිශ්‍ර කැවිලි වර්ගයක් ද අනුභව කර රැකියා සඳහා පිටත්ව යාම මැනවි. මෙය අවුරුදු නැකත් චාරිත්‍රවල අවසානය සනිටුහන් කරයි.
                    </p>
                   <p class="font-bold text-secondary dark:text-secondary-light mt-1 text-lg">පෙ.ව. 09:03</p>
              </div>

         </div>
         <p class="text-center text-xs text-gray-500 dark:text-gray-400 mt-12 italic">
            * කරුණාකර සලකන්න: ඉහත වේලාවන් සහ විස්තර 2025 වසර සඳහා නිල නැකැත් සීට්ටුව මත පදනම් වේ. නිල රජයේ නිවේදන හරහා ද තහවුරු කරගැනීම සුදුසුය.
          </p>
     </div>
</section>

<!-- Food Section -->
<section id="food" class="py-24 bg-primary-100/50 dark:bg-gray-900">
    <div class="container mx-auto px-6">
        <h2 class="section-title text-4xl font-bold text-center mb-16 text-gray-900 dark:text-white" data-aos="fade-up">රසම රස අවුරුදු කෑම මේසය</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            <!-- Food Card Example -->
            <div class="custom-card rounded-xl overflow-hidden shadow-lg group" data-aos="zoom-in" data-aos-delay="50">
                <!-- Image Placeholder: Replace with <img> tag -->
                <div class="img-placeholder group-hover:opacity-90 transition-opacity aspect-video">
                    <i class="fas fa-concierge-bell"></i>
                    <span>කිරිබත් රූපය</span>
                </div>
                <!-- <img src="path/to/kiribath.jpg" alt="කිරිබත්" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"> -->
                <div class="p-5">
                    <h3 class="text-lg font-semibold mb-1 text-gray-800 dark:text-white">කිරිබත්</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">සශ්‍රීකත්වය සහ මංගල්‍යය සංකේතවත් කරන ප්‍රධානතම අංගය.</p>
                </div>
            </div>
            <!-- Repeat for other food items -->
             <div class="custom-card rounded-xl overflow-hidden shadow-lg group" data-aos="zoom-in" data-aos-delay="100">
                 <div class="img-placeholder group-hover:opacity-90 transition-opacity aspect-video">
                     <i class="fas fa-cookie-bite"></i>
                     <span>කැවුම් රූපය</span>
                 </div>
                 <!-- <img src="path/to/kavum.jpg" alt="කැවුම්" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"> -->
                <div class="p-5">
                    <h3 class="text-lg font-semibold mb-1 text-gray-800 dark:text-white">කැවුම්</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">කොණ්ඩ, නාරං, මුං, අතිරහ වැනි විවිධ වර්ගයේ මිහිරි රසකැවිලි.</p>
                </div>
            </div>
             <div class="custom-card rounded-xl overflow-hidden shadow-lg group" data-aos="zoom-in" data-aos-delay="150">
                 <div class="img-placeholder group-hover:opacity-90 transition-opacity aspect-video">
                     <i class="fas fa-certificate"></i> <!-- Placeholder icon -->
                     <span>කොකිස් රූපය</span>
                 </div>
                 <!-- <img src="path/to/kokis.jpg" alt="කොකිස්" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"> -->
                <div class="p-5">
                    <h3 class="text-lg font-semibold mb-1 text-gray-800 dark:text-white">කොකිස්</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">හැපෙන සුළු, අච්චුවකින් තනා ගැඹුරු තෙලේ බදින සැමට ප්‍රියජනක රසකැවිල්ලක්.</p>
                </div>
            </div>
             <div class="custom-card rounded-xl overflow-hidden shadow-lg group" data-aos="zoom-in" data-aos-delay="200">
                 <div class="img-placeholder group-hover:opacity-90 transition-opacity aspect-video">
                     <i class="fas fa-candy-cane"></i> <!-- Placeholder icon -->
                     <span>කෙසෙල් ගෙඩි / වෙනත්</span>
                 </div>
                 <!-- <img src="path/to/other-sweets.jpg" alt="වෙනත් රසකැවිලි" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"> -->
                <div class="p-5">
                    <h3 class="text-lg font-semibold mb-1 text-gray-800 dark:text-white">වෙනත් රසකැවිලි</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">ආස්මී, අලුවා, වැලිතලප, කෙසෙල් ගෙඩි වැනි තවත් බොහෝ දේ.</p>
                </div>
            </div>
         </div>
        <div class="text-center mt-12" data-aos="fade-up">
             <a href="#" class="text-primary dark:text-primary-light hover:underline font-semibold inline-flex items-center group">
                 සියලුම වට්ටෝරු බලන්න (සබැඳිය)
                 <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
             </a>
        </div>
    </div>
</section>

<!-- Games Section -->
<section id="games" class="py-24 bg-white dark:bg-gray-800/50">
     <div class="container mx-auto px-6">
         <h2 class="section-title text-4xl font-bold text-center mb-16 text-gray-900 dark:text-white" data-aos="fade-up">විනෝදජනක අවුරුදු ක්‍රීඩා</h2>
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
             <!-- Game Card Example -->
             <div class="custom-card text-center p-8 rounded-xl" data-aos="fade-up" data-aos-delay="50">
                  <div class="img-placeholder img-placeholder-sm">
                      <i class="fas fa-dice-five"></i> <!-- Pancha Keliya -->
                  </div>
                  <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">පංච කෙළිය</h3>
                  <p class="text-gray-600 dark:text-gray-400 text-sm">සාම්ප්‍රදායික උපායශීලී පුවරු ක්‍රීඩාවකි, කවඩි හෝ බල්ලන් භාවිතා කරයි.</p>
             </div>
             <!-- Repeat for other games -->
              <div class="custom-card text-center p-8 rounded-xl" data-aos="fade-up" data-aos-delay="100">
                  <div class="img-placeholder img-placeholder-sm">
                       <i class="fas fa-child-reaching"></i> <!-- Onchili -->
                  </div>
                  <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">ඔන්චිලි පැදීම</h3>
                  <p class="text-gray-600 dark:text-gray-400 text-sm">ගස්වල එල්ලා සැකසූ ඔන්චිලි මත නැගී වාරම් කවි කියමින් පැදීම.</p>
             </div>
              <div class="custom-card text-center p-8 rounded-xl" data-aos="fade-up" data-aos-delay="150">
                  <div class="img-placeholder img-placeholder-sm">
                      <i class="fas fa-user-ninja"></i> <!-- Kotta Pora -->
                  </div>
                  <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">කොට්ටා පොර</h3>
                   <p class="text-gray-600 dark:text-gray-400 text-sm">එක කකුලෙන් සමබරව සිට, කොට්ටයකින් ගසා ප්‍රතිවාදියා බිම හෙළීම.</p>
             </div>
               <div class="custom-card text-center p-8 rounded-xl" data-aos="fade-up" data-aos-delay="200">
                  <div class="img-placeholder img-placeholder-sm">
                       <i class="fas fa-eye-slash"></i> <i class="fas fa-bowling-ball"></i> <!-- Kana Mutti -->
                  </div>
                  <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">කණා මුට්ටි බිඳීම</h3>
                   <p class="text-gray-600 dark:text-gray-400 text-sm">ඇස් බැඳ, අතැති පොල්ලකින් එල්ලා ඇති වතුර (හෝ තෑගි) පිරවූ මුට්ටි බිඳීම.</p>
             </div>
             <div class="custom-card text-center p-8 rounded-xl" data-aos="fade-up" data-aos-delay="250">
                   <div class="img-placeholder img-placeholder-sm">
                       <i class="fas fa-tree"></i> <i class="fas fa-person-hiking"></i> <!-- Lissana Gaha -->
                   </div>
                   <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">ලිස්සන ගහ නැගීම</h3>
                   <p class="text-gray-600 dark:text-gray-400 text-sm">තෙල් හෝ ග්‍රීස් ගෑ උස කණුවක ඉහළටම නැග එහි ඇති කොඩිය ලබා ගැනීම.</p>
             </div>
              <div class="custom-card text-center p-8 rounded-xl" data-aos="fade-up" data-aos-delay="300">
                  <div class="img-placeholder img-placeholder-sm">
                      <i class="fas fa-people-arrows"></i> <!-- Tug of War / Ankeliya -->
                  </div>
                   <h3 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">අං කෙළිය / කඹ ඇදීම</h3>
                   <p class="text-gray-600 dark:text-gray-400 text-sm">සාම්ප්‍රදායික කණ්ඩායම් දෙකක් අතර ශක්තිය පරීක්ෂා කරන ක්‍රීඩා.</p>
             </div>
          </div>
     </div>
</section>

<!-- Wishes Section -->
<section id="wishes" class="py-24 bg-primary-100/50 dark:bg-gray-900">
    <div class="container mx-auto px-6">
        <h2 class="section-title text-4xl font-bold text-center mb-8 text-gray-900 dark:text-white" data-aos="fade-up">අලුත් අවුරුදු සුබ පැතුම්</h2>
        <p class="text-center text-gray-600 dark:text-gray-400 mb-12 max-w-2xl mx-auto" data-aos="fade-up" data-aos-delay="50">
             ඔබේ ආදරණීයයන්ට යැවීමට මෙම සුබ පැතුම් පහසුවෙන් පිටපත් කරගන්න හෝ බෙදාගන්න.
        </p>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Wish Card Example -->
            <div class="rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1.5 bg-gradient-to-br from-yellow-200 via-red-100 to-orange-200 dark:from-yellow-800/50 dark:via-red-800/50 dark:to-orange-800/50" data-aos="flip-left">
                <div class="h-56 flex flex-col items-center justify-center p-6 text-center relative overflow-hidden">
                     <div class="absolute inset-0 opacity-10 dark:opacity-5 bg-[url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Cdefs%3E%3Cpattern id="p" width="10" height="10" patternUnits="userSpaceOnUse"%3E%3Ccircle cx="5" cy="5" r="1" fill="%23ef4444"/%3E%3C/pattern%3E%3C/defs%3E%3Crect width="100" height="100" fill="url(%23p)"/%3E%3C/svg%3E')]"></div>
                     <div class="relative z-10">
                        <span class="text-5xl mb-3 inline-block animate-pulse-slow"><i class="fas fa-sun text-yellow-500"></i></span>
                        <h4 class="text-xl font-bold text-red-800 dark:text-red-200">සුභම සුභ අලුත් අවුරුද්දක්!</h4>
                        <p class="mt-2 text-sm text-red-700 dark:text-red-300" id="wish-text-1">සතුට, සාමය, සෞභාග්‍යය පිරි වාසනාවන්ත 2025 වසරක් වේවා!</p>
                     </div>
                </div>
                <div class="bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm p-4 text-center">
                    <button class="copy-wish-btn text-red-600 dark:text-red-400 font-medium hover:text-red-700 dark:hover:text-red-300 transition-colors duration-300 flex items-center justify-center mx-auto cursor-pointer text-sm py-1 px-3 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50" data-wish-id="wish-text-1">
                        <i class="fas fa-copy mr-1.5"></i> <span class="btn-text">පිටපත් කරන්න</span>
                    </button>
                </div>
            </div>
             <!-- Repeat for other wish cards -->
            <div class="rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1.5 bg-gradient-to-br from-green-200 via-teal-100 to-cyan-200 dark:from-green-800/50 dark:via-teal-800/50 dark:to-cyan-800/50" data-aos="flip-left" data-aos-delay="100">
                 <div class="h-56 flex flex-col items-center justify-center p-6 text-center relative overflow-hidden">
                      <div class="absolute inset-0 opacity-10 dark:opacity-5 bg-[url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Cdefs%3E%3Cpattern id="p2" width="12" height="12" patternUnits="userSpaceOnUse" patternTransform="rotate(45)"%3E%3Cpath d="M0 0h6v6H0z" fill="%2310b981"/%3E%3C/pattern%3E%3C/defs%3E%3Crect width="100" height="100" fill="url(%23p2)"/%3E%3C/svg%3E')]"></div>
                     <div class="relative z-10">
                         <span class="text-5xl mb-3 inline-block animate-pulse-slow"><i class="fas fa-leaf text-green-500"></i></span>
                         <h4 class="text-xl font-bold text-teal-800 dark:text-teal-200">සෞභාග්‍යමත් නව වසරක්!</h4>
                         <p class="mt-2 text-sm text-teal-700 dark:text-teal-300" id="wish-text-2">උදා වූ 2025 නව වසර ඔබගේ සියලු යහපත් බලාපොරොත්තු ඉටුවන, සාමය සතුට පිරි වසරක් වේවා!</p>
                     </div>
                 </div>
                <div class="bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm p-4 text-center">
                     <button class="copy-wish-btn text-teal-600 dark:text-teal-400 font-medium hover:text-teal-700 dark:hover:text-teal-300 transition-colors duration-300 flex items-center justify-center mx-auto cursor-pointer text-sm py-1 px-3 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50" data-wish-id="wish-text-2">
                         <i class="fas fa-copy mr-1.5"></i> <span class="btn-text">පිටපත් කරන්න</span>
                     </button>
                 </div>
             </div>
             <div class="rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1.5 bg-gradient-to-br from-purple-200 via-pink-100 to-rose-200 dark:from-purple-800/50 dark:via-pink-800/50 dark:to-rose-800/50" data-aos="flip-left" data-aos-delay="200">
                 <div class="h-56 flex flex-col items-center justify-center p-6 text-center relative overflow-hidden">
                      <div class="absolute inset-0 opacity-10 dark:opacity-5 bg-[url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Cdefs%3E%3Cpattern id="p3" width="20" height="20" patternUnits="userSpaceOnUse"%3E%3Cpath d="M0 10 A10 10 0 0 1 20 10" fill="none" stroke="%23a855f7" stroke-width="1.5"/%3E%3C/pattern%3E%3C/defs%3E%3Crect width="100" height="100" fill="url(%23p3)"/%3E%3C/svg%3E')]"></div>
                      <div class="relative z-10">
                         <span class="text-5xl mb-3 inline-block animate-pulse-slow"><i class="fas fa-star text-purple-500"></i></span>
                         <h4 class="text-xl font-bold text-purple-800 dark:text-purple-200">සතුටින් පිරි අලුත් අවුරුද්දක්!</h4>
                         <p class="mt-2 text-sm text-purple-700 dark:text-purple-300" id="wish-text-3">නැකැත් චාරිත්‍ර ඉටුකර, සාම්ප්‍රදායික කෑම බීම රස විඳිමින්, නෑදෑ හිතමිතුරන් සමග සතුටින් සමරන ඉසුරුමත් 2025 නව වසරක් වේවා!</p>
                      </div>
                 </div>
                <div class="bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm p-4 text-center">
                     <button class="copy-wish-btn text-purple-600 dark:text-purple-400 font-medium hover:text-purple-700 dark:hover:text-purple-300 transition-colors duration-300 flex items-center justify-center mx-auto cursor-pointer text-sm py-1 px-3 rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/50" data-wish-id="wish-text-3">
                         <i class="fas fa-copy mr-1.5"></i> <span class="btn-text">පිටපත් කරන්න</span>
                     </button>
                 </div>
             </div>
        </div>
    </div>
</section>
<!-- Feedback Section -->
<section class="py-24 bg-white dark:bg-gray-800/50">
    <div class="container mx-auto px-6">
        <div data-aos="fade-up" class="bg-gradient-to-r from-primary-400 via-accent-500 to-secondary-400 dark:from-primary-600 dark:via-accent-700 dark:to-secondary-600 rounded-3xl overflow-hidden shadow-xl p-8 md:p-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <h2 class="text-3xl lg:text-4xl font-bold text-white mb-4 leading-tight">ඔබගේ අදහස් අපට වටිනවා!</h2>
                    <p class="text-indigo-100 dark:text-indigo-200 mb-6">
                        මෙම වෙබ් අඩවිය පිළිබඳව ඔබගේ අදහස්, යෝජනා හෝ ඔබ දුටු යම් දෝෂයක් වේ නම් අපට දන්වන්න. එය තවදුරටත් වැඩිදියුණු කිරීමට සහ ඔබට වඩා හොඳ අත්දැකීමක් ලබා දීමට මහඟු උපකාරයක් වනු ඇත.
                    </p>
                    <form action="#" method="POST"> <!-- Replace # with your form handling endpoint -->
                        <div class="space-y-4">
                            <div>
                                <label for="feedback_name" class="sr-only">ඔබේ නම (විකල්ප)</label>
                                <input type="text" id="feedback_name" name="name" placeholder="ඔබේ නම (විකල්ප)" class="w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 border border-transparent focus:border-yellow-300 shadow-inner">
                            </div>
                            <div>
                                <label for="feedback_message" class="sr-only">ඔබගේ අදහස</label>
                                <textarea id="feedback_message" name="message" rows="4" placeholder="ඔබගේ අදහස මෙහි ලියන්න..." required class="w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 border border-transparent focus:border-yellow-300 shadow-inner resize-none"></textarea>
                            </div>
                            <div>
                                <button type="submit" class="bg-white dark:bg-gray-800 text-primary-dark dark:text-white px-6 py-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-300 whitespace-nowrap font-semibold shadow-md hover:shadow-lg transform hover:scale-105 w-full sm:w-auto">
                                    අදහස යවන්න <i class="fas fa-paper-plane ml-1"></i>
                                </button>
                            </div>
                        </div>
                    </form>
                     <p class="text-xs text-indigo-100 dark:text-indigo-300 mt-4">ඔබගේ පෞද්ගලිකත්වය අපි අගය කරමු.</p>
                </div>
                <div class="hidden md:flex justify-center items-center mt-8 md:mt-0">
                     <div class="w-60 h-60 bg-white/20 rounded-full flex items-center justify-center p-4 relative animate-pulse-slow">
                         <div class="w-full h-full border-4 border-dashed border-white/50 rounded-full flex items-center justify-center">
                             <i class="fas fa-comments text-6xl text-white opacity-80"></i> <!-- Changed Icon -->
                         </div>
                          <div class="absolute bottom-0 left-0 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full -mb-2 -ml-2 transform -rotate-12">IMPROVE</div>
                     </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Feedback Section -->
<!-- Interactive 3D Section -->
<section id="interactive-3d" class="py-24 bg-gradient-to-b from-primary-100/50 to-white dark:from-gray-900 dark:to-gray-900/95">
    <div class="container mx-auto px-6 text-center">
        <h2 class="section-title text-4xl font-bold mb-6 text-gray-900 dark:text-white" data-aos="fade-up">ත්‍රිමාණ (3D) අවුරුදු ලෝකය</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-10 max-w-2xl mx-auto" data-aos="fade-up" data-aos-delay="100">
            අපගේ අන්තර්ක්‍රියාකාරී ත්‍රිමාණ දර්ශනයට පිවිසෙන්න. මූසිකය ඇදගෙන ගොස් (<i class="fas fa-arrows-alt"></i>) හෝ ස්පර්ශ කර (<i class="fas fa-hand-pointer"></i>) සූර්යයා, පෘථිවිය සහ චන්ද්‍රයා භ්‍රමණය කර බලන්න.
        </p>
         <div id="three-container" class="relative h-[500px] w-full max-w-4xl mx-auto bg-gray-100 dark:bg-gray-800/40 rounded-xl shadow-inner overflow-hidden cursor-grab border border-gray-200 dark:border-gray-700" data-aos="zoom-in" data-aos-delay="150">
             <!-- Three.js content will be rendered here -->
             <div id="3d-loader" class="absolute inset-0 flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-800/40 z-20 transition-opacity duration-500 backdrop-blur-sm">
                <div class="loader mb-4"></div>
                <p class="text-gray-600 dark:text-gray-300">3D අත්දැකීම පූරණය වෙමින් පවතී...</p>
             </div>
             <canvas id="interactive-canvas" class="absolute inset-0 w-full h-full"></canvas>
        </div>
    </div>
 </section>

 <!-- Footer -->
<footer id="contact" class="bg-gray-900 dark:bg-black text-gray-300 pt-20 pb-10">
    <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 mb-12">
                <!-- Column 1: About -->
                <div>
                    <h3 class="text-2xl font-bold mb-4 text-primary-light flex items-center">
                       <i class="fas fa-star text-yellow-400 mr-2"></i> අවුරුදු 2025
                    </h3>
                    <p class="text-gray-400 mb-4 text-sm leading-relaxed">
                        ශ්‍රී ලාංකීය අභිමානය, සංස්කෘතිය හා සම්ප්‍රදායන් සමරන සිංහල හා හින්දු අලුත් අවුරුදු තොරතුරු සඳහා ඔබගේ නවීන මාර්ගෝපදේශකයා.
                    </p>
                    <div class="flex space-x-4 mt-5">
                        {/* Social Icons - Add actual links */}
                        <a href="#" aria-label="Facebook" class="text-gray-400 hover:text-blue-500 transition-colors duration-300 text-xl"><i class="fab fa-facebook-square"></i></a>
                        <a href="#" aria-label="Twitter" class="text-gray-400 hover:text-blue-400 transition-colors duration-300 text-xl"><i class="fab fa-twitter-square"></i></a>
                        <a href="#" aria-label="Instagram" class="text-gray-400 hover:text-pink-500 transition-colors duration-300 text-xl"><i class="fab fa-instagram-square"></i></a>
                        <a href="#" aria-label="Youtube" class="text-gray-400 hover:text-red-500 transition-colors duration-300 text-xl"><i class="fab fa-youtube-square"></i></a>
                    </div>
                </div>

                <!-- Column 2: Quick Links -->
                 <div>
                    <h3 class="text-xl font-semibold mb-4 text-primary-light">ප්‍රධාන පිටු</h3>
                    <ul class="space-y-2">
                        <li><a href="#significance" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-chevron-right fa-xs mr-2 opacity-70"></i>වැදගත්කම</a></li>
                        <li><a href="#customs" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-chevron-right fa-xs mr-2 opacity-70"></i>චාරිත්‍ර</a></li>
                        <li><a href="#timeline" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-chevron-right fa-xs mr-2 opacity-70"></i>නැකැත්</a></li>
                        <li><a href="#food" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-chevron-right fa-xs mr-2 opacity-70"></i>ආහාර</a></li>
                        <li><a href="#games" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-chevron-right fa-xs mr-2 opacity-70"></i>ක්‍රීඩා</a></li>
                        <li><a href="#wishes" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-chevron-right fa-xs mr-2 opacity-70"></i>සුබ පැතුම්</a></li>
                         <li><a href="#interactive-3d" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-chevron-right fa-xs mr-2 opacity-70"></i>3D අත්දැකීම</a></li>
                    </ul>
                </div>

                <!-- Column 3: Resources -->
                <div>
                    <h3 class="text-xl font-semibold mb-4 text-primary-light">සම්පත්</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-utensils fa-xs mr-2 opacity-70"></i>අවුරුදු වට්ටෝරු</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-file-pdf fa-xs mr-2 opacity-70"></i>නැකැත් පත්‍රිකාව (PDF)</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-images fa-xs mr-2 opacity-70"></i>ඡායාරූප ගැලරිය</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-music fa-xs mr-2 opacity-70"></i>අවුරුදු ගීත</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center"><i class="fas fa-history fa-xs mr-2 opacity-70"></i>ඉතිහාසය සහ මූලාරම්භය</a></li>
                    </ul>
                </div>

                <!-- Column 4: Contact -->
                <div>
                    <h3 class="text-xl font-semibold mb-4 text-primary-light">සබඳතා</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start text-sm">
                            <i class="fas fa-phone text-primary-light flex-shrink-0 mt-1 mr-3"></i>
                            <span class="text-gray-400 hover:text-white transition-colors">+94 11 234 5678</span>
                        </li>
                        <li class="flex items-start text-sm">
                            <i class="fas fa-envelope text-primary-light flex-shrink-0 mt-1 mr-3"></i>
                            <span class="text-gray-400 hover:text-white transition-colors break-all">info@avurudu2025.lk</span>
                        </li>
                        <li class="flex items-start text-sm">
                            <i class="fas fa-map-marker-alt text-primary-light flex-shrink-0 mt-1 mr-3"></i>
                            <span class="text-gray-400">123, Avurudu Mawatha, Colombo 05, Sri Lanka</span>
                        </li>
                    </ul>
                     <a href="mailto:info@avurudu2025.lk" class="mt-4 inline-block bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-300 shadow hover:shadow-md">
                        <i class="fas fa-paper-plane mr-2"></i> පණිවිඩයක් යවන්න
                    </a>
                </div>
            </div>

            <!-- Copyright & Footer Links -->
            <div class="border-t border-gray-700 dark:border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center text-sm">
                <p class="text-gray-500 text-center md:text-left mb-4 md:mb-0">
                     © <script>document.write(new Date().getFullYear())</script> සිංහල හින්දු අලුත් අවුරුද්ද. නිර්මාණය <a href="https://yourwebsite.com" target="_blank" rel="noopener noreferrer" class="hover:text-primary-light transition-colors font-semibold">ඔබේ නම/සමාගම</a>.
                </p>
                 <ul class="flex flex-wrap justify-center space-x-4 md:space-x-6">
                     <li><a href="#" class="text-gray-500 hover:text-white transition-colors duration-300">Privacy Policy</a></li>
                     <li><a href="#" class="text-gray-500 hover:text-white transition-colors duration-300">Terms of Use</a></li>
                </ul>
            </div>
        </div>
    </footer>

<!-- Theme Toggle Button -->
<button class="theme-toggle" title="Toggle Light/Dark Mode" aria-label="Toggle theme">
    <svg id="light-icon" class="h-5 w-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
    <svg id="dark-icon" class="h-5 w-5 text-gray-300 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
</button>

<!-- Scripts -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<!-- GSAP for Animations -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<!-- Three.js Core -->
<script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.161.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.161.0/examples/jsm/"
        }
    }
</script>
<!-- p5.js Core -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
<!-- Main Application Script -->
<script type="module">
    // Import Three.js modules
    import * as THREE from 'three';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
    import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js'; // Added for potential model loading
    import { TextureLoader } from 'three';

    document.addEventListener('DOMContentLoaded', function() {
        // --- Initialize AOS ---
        AOS.init({
            duration: 800,
            once: true,
            offset: 50, // Start animation a bit sooner
            easing: 'ease-out-cubic',
        });

        // --- GSAP Intro Animation ---
        const tl = gsap.timeline({ defaults: { ease: "power3.out" } });
        const introOverlay = document.getElementById('intro-overlay');
        const logo = document.getElementById('logo');
        const desktopNav = document.getElementById('desktop-nav');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn-icon');
        const heroTitle = document.getElementById('hero-title');
        const heroSubtitle = document.getElementById('hero-subtitle');
        const countdownContainer = document.getElementById('countdown-container');
        const heroButton = document.getElementById('hero-button');

        // Split title words
        const titleWords = heroTitle.querySelectorAll('span');

        tl
            .to(introOverlay, { duration: 1.5, opacity: 0, delay: 0.5, onComplete: () => introOverlay.style.display = 'none' })
            .fromTo([logo, desktopNav, mobileMenuBtn], { y: 20, opacity: 0 }, { duration: 0.8, y: 0, opacity: 1, stagger: 0.1 }, "-=1.0") // Stagger header items
            .fromTo(titleWords, { y: 50, opacity: 0 }, { duration: 0.8, y: 0, opacity: 1, stagger: 0.1 }, "-=0.6") // Stagger title words
            .fromTo(heroSubtitle, { y: 30, opacity: 0 }, { duration: 0.8, y: 0, opacity: 1 }, "-=0.5")
            .fromTo(countdownContainer, { y: 30, opacity: 0, scale: 0.9 }, { duration: 0.8, y: 0, opacity: 1, scale: 1 }, "-=0.6")
            .fromTo(heroButton, { y: 30, opacity: 0, scale: 0.8 }, { duration: 0.8, y: 0, opacity: 1, scale: 1 }, "-=0.5");


        // --- Mobile Menu ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const closeMenuButton = document.getElementById('close-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileNavLinks = mobileMenu.querySelectorAll('a[href^="#"]');

        if (mobileMenuButton && mobileMenu) mobileMenuButton.addEventListener('click', () => mobileMenu.classList.add('open'));
        if (closeMenuButton && mobileMenu) closeMenuButton.addEventListener('click', () => mobileMenu.classList.remove('open'));
        if (mobileNavLinks.length > 0 && mobileMenu) {
             mobileNavLinks.forEach(link => link.addEventListener('click', () => mobileMenu.classList.remove('open')));
         }

        // --- Theme Toggle ---
        const themeToggle = document.querySelector('.theme-toggle');
        const lightIcon = document.getElementById('light-icon');
        const darkIcon = document.getElementById('dark-icon');
        const htmlElement = document.documentElement;

         const applyTheme = (theme) => {
             htmlElement.classList.remove('light', 'dark');
             htmlElement.classList.add(theme);
             lightIcon?.classList.toggle('hidden', theme === 'dark');
             darkIcon?.classList.toggle('hidden', theme === 'light');

             // Update CSS variables root (though Tailwind handles this with classes)
             // document.documentElement.setAttribute('data-theme', theme);

             // Notify p5 sketch
             if (window.p5Sketch && typeof window.p5Sketch.updateTheme === 'function') window.p5Sketch.updateTheme(theme);
             // Notify Three.js scenes
             if (window.heroThreeScene && typeof window.heroThreeScene.updateTheme === 'function') window.heroThreeScene.updateTheme(theme);
             if (window.interactiveThreeScene && typeof window.interactiveThreeScene.updateTheme === 'function') window.interactiveThreeScene.updateTheme(theme);
         };

        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        let currentTheme = savedTheme ? savedTheme : (prefersDark ? 'dark' : 'light');
        applyTheme(currentTheme); // Apply initial theme

        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                 currentTheme = htmlElement.classList.contains('dark') ? 'light' : 'dark';
                 applyTheme(currentTheme);
                 localStorage.setItem('theme', currentTheme);
            });
        }

        // --- Countdown Timer ---
        const countDownDate = new Date("Apr 14, 2025 03:21:00").getTime(); // Use updated 2025 Nakath time
        const daysEl = document.getElementById("days");
        const hoursEl = document.getElementById("hours");
        const minutesEl = document.getElementById("minutes");
        const secondsEl = document.getElementById("seconds");
        const countdownWrapper = document.getElementById('countdown-container');
        const countdownMessage = document.getElementById('countdown-message');

        if (daysEl && hoursEl && minutesEl && secondsEl && countdownWrapper && countdownMessage) {
            const countdown = setInterval(function() {
                const now = new Date().getTime();
                const distance = countDownDate - now;

                if (distance < 0) {
                    clearInterval(countdown);
                    countdownWrapper.classList.add('hidden');
                    countdownMessage.classList.remove('hidden');
                     // Optional GSAP animation for the message
                    gsap.fromTo(countdownMessage, { scale: 0.5, opacity: 0 }, { scale: 1, opacity: 1, duration: 0.8, ease: 'back.out(1.7)' });
                    return;
                }

                daysEl.textContent = Math.floor(distance / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
                hoursEl.textContent = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
                minutesEl.textContent = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
                secondsEl.textContent = Math.floor((distance % (1000 * 60)) / 1000).toString().padStart(2, '0');
            }, 1000);
        } else {
            console.error("Countdown elements not found.");
        }


        // --- Three.js Hero Background ---
        const heroCanvasContainer = document.getElementById('hero-three-canvas');
        if (heroCanvasContainer && THREE) {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, heroCanvasContainer.offsetWidth / heroCanvasContainer.offsetHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(heroCanvasContainer.offsetWidth, heroCanvasContainer.offsetHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            heroCanvasContainer.appendChild(renderer.domElement);

            // Subtle Particles (adjust count/size for performance)
            const particleCount = 300; // Reduced count
            const particles = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);
             // Pastel Colors
            const baseColors = [
                 new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--color-primary-400').trim()), // Use CSS var
                 new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--color-secondary-400').trim()),
                 new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--color-accent-400').trim()),
                 new THREE.Color(0xffffff) // White accents
            ];

            for (let i = 0; i < particleCount; i++) {
                const i3 = i * 3;
                positions[i3] = (Math.random() - 0.5) * 15; // Spread out more
                positions[i3 + 1] = (Math.random() - 0.5) * 15;
                positions[i3 + 2] = (Math.random() - 0.5) * 15 - 5; // Push back slightly

                const color = baseColors[Math.floor(Math.random() * baseColors.length)];
                colors[i3] = color.r; colors[i3 + 1] = color.g; colors[i3 + 2] = color.b;
            }
            particles.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            particles.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            const particleMaterial = new THREE.PointsMaterial({
                size: 0.06, // Slightly smaller
                vertexColors: true,
                transparent: true,
                opacity: 0.7, // Slightly more subtle
                sizeAttenuation: true,
                 depthWrite: false, // Helps with blending artifacts
                 blending: THREE.AdditiveBlending // Softer glow
            });
            const particleSystem = new THREE.Points(particles, particleMaterial);
            scene.add(particleSystem);

            camera.position.z = 6; // Moved camera back slightly

            const clock = new THREE.Clock();
            let mouseX = 0, mouseY = 0;

            document.addEventListener('mousemove', (event) => {
                mouseX = (event.clientX / window.innerWidth) * 2 - 1;
                mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
            });


            function animateHero() {
                requestAnimationFrame(animateHero);
                const elapsedTime = clock.getElapsedTime();

                // Gentle floating movement
                particleSystem.position.y = Math.sin(elapsedTime * 0.2) * 0.3;

                 // Subtle mouse parallax effect
                 camera.position.x += (mouseX * 0.5 - camera.position.x) * 0.02;
                 camera.position.y += (mouseY * 0.5 - camera.position.y) * 0.02;
                 camera.lookAt(scene.position); // Ensure camera keeps looking at the center


                renderer.render(scene, camera);
            }

            function onHeroResize() {
                if (!heroCanvasContainer) return;
                camera.aspect = heroCanvasContainer.offsetWidth / heroCanvasContainer.offsetHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(heroCanvasContainer.offsetWidth, heroCanvasContainer.offsetHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Limit pixel ratio
            }

            window.addEventListener('resize', onHeroResize);
            onHeroResize();
            animateHero();

             window.heroThreeScene = {
                 updateTheme: (theme) => {
                     // Update particle colors if needed based on new CSS vars
                    const lightPrimary = new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--color-primary-400').trim());
                    const lightSecondary = new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--color-secondary-400').trim());
                    const lightAccent = new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--color-accent-400').trim());
                     const darkPrimary = new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--color-primary-500').trim()); // Use brighter for dark
                     const darkSecondary = new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--color-secondary-500').trim());
                     const darkAccent = new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--color-accent-500').trim());

                    const newBaseColors = theme === 'dark'
                        ? [darkPrimary, darkSecondary, darkAccent, new THREE.Color(0xeeeeee)]
                        : [lightPrimary, lightSecondary, lightAccent, new THREE.Color(0xffffff)];

                     const colorsAttr = particleSystem.geometry.attributes.color;
                     for (let i = 0; i < particleCount; i++) {
                         const color = newBaseColors[Math.floor(Math.random() * newBaseColors.length)];
                         colorsAttr.setXYZ(i, color.r, color.g, color.b);
                     }
                     colorsAttr.needsUpdate = true;
                     particleMaterial.opacity = theme === 'dark' ? 0.6 : 0.7;
                 }
             };
             // Initial theme update call for particles
             window.heroThreeScene.updateTheme(currentTheme);

        } else {
            console.error("Three.js container or library not found for Hero.");
        }


         // --- Three.js Interactive Section ---
        const threeContainer = document.getElementById('three-container');
        const loader3D = document.getElementById('3d-loader');
        const interactiveCanvas = document.getElementById('interactive-canvas'); // Get the canvas element

        if (threeContainer && THREE && OrbitControls && loader3D && interactiveCanvas) {
            let scene, camera, renderer, controls;
            let sun, earth, moon, earthOrbit, moonOrbit;
            const textureLoader = new TextureLoader();

            function initInteractive3D() {
                scene = new THREE.Scene();

                // Camera
                camera = new THREE.PerspectiveCamera(60, threeContainer.offsetWidth / threeContainer.offsetHeight, 0.1, 1000);
                camera.position.set(0, 5, 12); // Adjusted position for better view

                // Renderer
                renderer = new THREE.WebGLRenderer({
                    canvas: interactiveCanvas, // Use the specific canvas
                    antialias: true,
                    alpha: true
                });
                renderer.setSize(threeContainer.offsetWidth, threeContainer.offsetHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                // renderer.outputEncoding = THREE.sRGBEncoding; // For better color representation if using textures

                // Controls
                controls = new OrbitControls(camera, renderer.domElement);
                controls.enableDamping = true;
                controls.dampingFactor = 0.05;
                controls.screenSpacePanning = false;
                controls.minDistance = 3;
                controls.maxDistance = 40;
                controls.autoRotate = true;
                controls.autoRotateSpeed = 0.5;

                // Lighting
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.4);
                scene.add(ambientLight);
                const sunLight = new THREE.PointLight(0xffddaa, 1.5, 50); // Light emanating from the sun's position
                scene.add(sunLight); // Add it directly, will be positioned with the sun mesh

                // --- Create Celestial Bodies ---

                // Sun (Emissive Sphere)
                const sunGeometry = new THREE.SphereGeometry(1.5, 32, 32);
                const sunMaterial = new THREE.MeshBasicMaterial({ color: 0xffdd88, map: textureLoader.load('https://threejs.org/examples/textures/planets/sunmap.jpg') }); // Simple yellow, or add texture
                // const sunMaterial = new THREE.MeshStandardMaterial({ // Alternative with emissive property
                //     emissive: 0xffdd88,
                //     emissiveIntensity: 1.2,
                //     map: textureLoader.load('path/to/sun_texture.jpg') // Optional texture
                // });
                sun = new THREE.Mesh(sunGeometry, sunMaterial);
                scene.add(sun);
                sunLight.position.copy(sun.position); // Position light source at sun center

                // Earth Orbit (for positioning Earth)
                earthOrbit = new THREE.Object3D();
                scene.add(earthOrbit);

                // Earth (Textured Sphere)
                const earthGeometry = new THREE.SphereGeometry(0.6, 32, 32);
                const earthMaterial = new THREE.MeshStandardMaterial({
                    map: textureLoader.load('https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg'), // Example texture
                    bumpMap: textureLoader.load('https://threejs.org/examples/textures/planets/earth_bump_2048.jpg'), // Example bump map
                    bumpScale: 0.02,
                    // metalness: 0.1,
                    roughness: 0.8
                });
                earth = new THREE.Mesh(earthGeometry, earthMaterial);
                earth.position.x = 6; // Distance from sun
                earthOrbit.add(earth); // Add Earth to its orbit container

                 // Moon Orbit (for positioning Moon relative to Earth)
                moonOrbit = new THREE.Object3D();
                earth.add(moonOrbit); // Moon orbits Earth

                // Moon (Textured Sphere)
                const moonGeometry = new THREE.SphereGeometry(0.15, 16, 16);
                const moonMaterial = new THREE.MeshStandardMaterial({
                    map: textureLoader.load('https://threejs.org/examples/textures/planets/moon_1024.jpg'), // Example texture
                    roughness: 0.9
                });
                moon = new THREE.Mesh(moonGeometry, moonMaterial);
                moon.position.x = 1.2; // Distance from Earth
                moonOrbit.add(moon); // Add Moon to its orbit container

                 // Add subtle starfield
                 const starGeometry = new THREE.BufferGeometry();
                 const starVertices = [];
                 for (let i = 0; i < 5000; i++) {
                     const x = THREE.MathUtils.randFloatSpread(100);
                     const y = THREE.MathUtils.randFloatSpread(100);
                     const z = THREE.MathUtils.randFloatSpread(100);
                     if (x*x + y*y + z*z > 1000) { // Avoid stars too close to center
                         starVertices.push(x, y, z);
                     }
                 }
                 starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
                 const starMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 0.1, sizeAttenuation: true, transparent: true, opacity: 0.7 });
                 const stars = new THREE.Points(starGeometry, starMaterial);
                 scene.add(stars);


                // Hide loader once ready
                loader3D.style.opacity = '0';
                setTimeout(() => { loader3D.style.display = 'none'; }, 500);

                animateInteractive3D();
            }

            const clock = new THREE.Clock();
            function animateInteractive3D() {
                requestAnimationFrame(animateInteractive3D);
                const delta = clock.getDelta();

                // Rotation speeds
                sun.rotation.y += 0.05 * delta;
                earth.rotation.y += 0.5 * delta;
                moon.rotation.y += 0.3 * delta;

                 // Orbit speeds
                 earthOrbit.rotation.y += 0.1 * delta; // Earth orbits sun
                 moonOrbit.rotation.y += 0.8 * delta;  // Moon orbits earth

                controls.update();
                renderer.render(scene, camera);
            }

             function onInteractiveResize() {
                if (!threeContainer || !camera || !renderer) return;
                 camera.aspect = threeContainer.offsetWidth / threeContainer.offsetHeight;
                 camera.updateProjectionMatrix();
                 renderer.setSize(threeContainer.offsetWidth, threeContainer.offsetHeight);
                 renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
             }

            // Use Intersection Observer to load 3D only when visible
            const observer = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting) {
                     // Delay init slightly to ensure container dimensions are stable
                     setTimeout(initInteractive3D, 100);
                    observer.unobserve(threeContainer); // Stop observing once loaded
                }
            }, { threshold: 0.1 }); // Load when 10% visible

            observer.observe(threeContainer);
            window.addEventListener('resize', onInteractiveResize);

             window.interactiveThreeScene = {
                updateTheme: (theme) => {
                     // Adjust ambient light or star opacity based on theme
                     const ambient = scene.getObjectByProperty('type', 'AmbientLight');
                     if(ambient) {
                         ambient.intensity = theme === 'dark' ? 0.3 : 0.5;
                     }
                      const stars = scene.getObjectByProperty('type', 'Points');
                     if(stars) {
                         stars.material.opacity = theme === 'dark' ? 0.8 : 0.6;
                         stars.material.needsUpdate = true;
                     }
                     // Potentially change sun's base color/emissive if needed
                     // sun.material.color.setHex(theme === 'dark' ? 0xffe8aa : 0xffdd88);
                }
             };
             // Set initial theme for 3D scene
             setTimeout(() => { // Needs slight delay for initial theme read sometimes
                if (window.interactiveThreeScene) window.interactiveThreeScene.updateTheme(currentTheme);
             }, 200);


        } else {
             console.error("Required elements/libs for Interactive 3D not found.");
             if(loader3D) loader3D.innerHTML = '<p class="text-red-500 dark:text-red-400 p-4">3D අංගය පූරණය කිරීමට නොහැකි විය. <br> කරුණාකර පිටුව නැවත පූරණය කරන්න හෝ වෙනත් බ්‍රවුසරයක් උත්සාහ කරන්න.</p>';
        }


        // --- p5.js Background Sketch ---
        const p5Container = document.getElementById('p5-background-canvas');
        if (p5Container && typeof p5 !== 'undefined') {
            const sketch = (p) => {
                let particles = [];
                const numParticles = 25; // Reduced for subtlety
                let currentBgColor;
                let currentParticleColor;

                class Particle {
                    constructor() {
                        this.pos = p.createVector(p.random(p.width), p.random(p.height));
                        this.vel = p5.Vector.random2D().mult(p.random(0.05, 0.25)); // Slower
                        this.size = p.random(4, 12); // Smaller range
                        this.baseSize = this.size;
                        this.alpha = p.random(20, 60); // More transparent range
                    }

                    update() {
                        this.pos.add(this.vel);
                        this.edges();

                         // Interaction: slightly pulse near mouse
                        let mouseDist = p.dist(this.pos.x, this.pos.y, p.mouseX, p.mouseY);
                        let pulseFactor = p.map(mouseDist, 0, 200, 1.5, 1.0, true); // Pulse bigger when close
                        this.size = this.baseSize * pulseFactor * (1 + p.sin(p.frameCount * 0.05 + this.pos.x) * 0.1); // Gentle size oscillation
                    }

                    show() {
                        p.noStroke();
                        let dynamicColor = p.color(currentParticleColor); // Get base color
                         dynamicColor.setAlpha(this.alpha * p.map(this.size, this.baseSize * 0.8, this.baseSize * 1.8, 0.8, 1.2, true)); // Alpha varies with size
                        p.fill(dynamicColor);
                        p.ellipse(this.pos.x, this.pos.y, this.size);
                    }

                    edges() {
                         if (this.pos.x < -this.size) this.pos.x = p.width + this.size;
                         if (this.pos.x > p.width + this.size) this.pos.x = -this.size;
                         if (this.pos.y < -this.size) this.pos.y = p.height + this.size;
                         if (this.pos.y > p.height + this.size) this.pos.y = -this.size;
                    }
                }

                p.setup = () => {
                    let canvas = p.createCanvas(p.windowWidth, p.windowHeight);
                    canvas.parent(p5Container);
                    p.updateTheme(currentTheme); // Set initial theme colors

                    for (let i = 0; i < numParticles; i++) particles.push(new Particle());
                };

                p.draw = () => {
                    p.background(currentBgColor);
                    particles.forEach(particle => {
                         particle.update();
                         particle.show();
                    });
                };

                p.windowResized = () => p.resizeCanvas(p.windowWidth, p.windowHeight);

                p.updateTheme = (theme) => {
                    // Read colors directly from CSS variables for consistency
                    let bgVar = getComputedStyle(document.documentElement).getPropertyValue('--bg-main').trim();
                     let particleVar = theme === 'dark'
                         ? getComputedStyle(document.documentElement).getPropertyValue('--color-primary-500').trim()
                         : getComputedStyle(document.documentElement).getPropertyValue('--color-primary-400').trim();

                    currentBgColor = p.color(bgVar);
                    currentParticleColor = p.color(particleVar); // Store base color without alpha

                     // Update existing particle base colors if logic requires it (not strictly needed here as alpha is dynamic)
                     // particles.forEach(particle => particle.baseColor = currentParticleColor);
                };
            };
            window.p5Sketch = new p5(sketch);
        } else {
             console.error("p5.js container or library not found.");
        }


        // --- Smooth Scrolling ---
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href && href.length > 1 && href !== '#') {
                    try {
                        const targetElement = document.querySelector(href);
                        if (targetElement) {
                            e.preventDefault();
                            const header = document.querySelector('header');
                            const headerHeight = header ? header.offsetHeight : 70;
                            const elementPosition = targetElement.getBoundingClientRect().top;
                            const offsetPosition = elementPosition + window.pageYOffset - headerHeight - 20;

                            window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
                            if (mobileMenu && mobileMenu.classList.contains('open')) mobileMenu.classList.remove('open');
                        }
                    } catch (error) { console.error("Error finding target for scroll:", href, error); }
                }
            });
        });

        // --- Copy Wish Button ---
        document.querySelectorAll('.copy-wish-btn').forEach(button => {
            button.addEventListener('click', function() {
                const wishTextId = this.getAttribute('data-wish-id');
                const wishTextElement = document.getElementById(wishTextId);
                const btnTextSpan = this.querySelector('.btn-text');

                if (wishTextElement && navigator.clipboard) {
                    const textToCopy = wishTextElement.innerText || wishTextElement.textContent;
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        // Success feedback
                        const originalText = btnTextSpan.textContent;
                        btnTextSpan.textContent = 'පිටපත් කලා!';
                        this.classList.add('text-green-500', 'dark:text-green-400');
                        setTimeout(() => {
                            btnTextSpan.textContent = originalText;
                            this.classList.remove('text-green-500', 'dark:text-green-400');
                        }, 2000); // Revert after 2 seconds
                    }).catch(err => {
                        console.error('Failed to copy wish: ', err);
                        // Optionally show an error message
                        const originalText = btnTextSpan.textContent;
                        btnTextSpan.textContent = 'දෝෂයකි!';
                        this.classList.add('text-red-500');
                         setTimeout(() => {
                             btnTextSpan.textContent = originalText;
                              this.classList.remove('text-red-500');
                         }, 2000);
                    });
                } else {
                    console.error('Clipboard API not available or element not found');
                }
            });
        });


    }); // End DOMContentLoaded
</script>

</body>
</html>
--- END OF FILE web3.1.html ---